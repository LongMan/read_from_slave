Read_from_slave

Read_from_slave for Rails enables database reads from a slave database, while writes continue to go to the master

Read_from_slave will work with Rails 2.2 and above.

Installation

sudo gem install sdsykes-read_from_slave

Configuration

In config/environments/production.rb (for instance)

  config.gem "sdsykes-read_from_slave", :lib=>"read_from_slave"

In config/database.yml

  production:
    adapter: mysql
    database: mydatabase
    username: myuser
    password: mypassword
    host: my.main.database.server.com
    port: 3306

  slave_for_mydatabase:
    adapter: mysql
    database: mydatabase
    username: myuser
    password: mypassword
    socket: /var/lib/mysql/mysql.sock

Just use the regular YAML format to specify your slave database, it could equally well be on
another server as the local example given above.

Documentation

http://rdoc.info/projects/sdsykes/read_from_slave

Todo

* Support a pool of multiple slaves
* Address concerns of replication lag, override reload

References

"Masochism":http://github.com/technoweenie/masochism/tree/master
not thread safe
won't work with apps that talk to multiple (master) databases

"Acts as readonlyable":http://rubyforge.org/projects/acts-as-with-ro/
old, not suitable for Rails 2.x



(c) 2009 Stephen Sykes
